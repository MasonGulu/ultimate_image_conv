<!DOCTYPE html>

<head>
    <link rel="stylesheet" href="index.css">
    <script type="text/javascript" src="rgbQuant.js"></script>
    <script type="text/javascript" src="templates.js"></script>
    <script type="text/javascript" src="quantShim.js"></script>
    <script type="text/javascript" src="preQuantizeFilters.js"></script>
    <script type="text/javascript" src="postQuantizeFilters.js"></script>
    <script type="text/javascript" src="presets.js"></script>
    <script type="text/javascript" src="index.js"></script>
    <title>Ultimate Image Converter</title>
</head>
<body>
    <div class="container">
        <div id="inputStage" class="element">
            <h3>Input</h3>
            <input id="fileInput" type="file">
            <label for="presets">Preset</label>
            <select id="presets">
                <option>None</option>
                <optgroup label="CGA">
                    <option>CGA 1b</option>
                    <option>CGA 2b0L</option>
                    <option>CGA 2b0H</option>
                    <option>CGA 2b1L</option>
                    <option>CGA 2b1H</option>
                    <option>CGA 2b5L</option>
                    <option>CGA 2b5H</option>
                </optgroup>
                <optgroup label="CC">
                    <option>CC BIMG</option>
                    <option>CC BBF</option>
                    <option>CC NFP</option>
                </optgroup>
            </select>
            <button id="processButton">Process</button>
            <label><input type="checkbox" id="autoProcessCheckbox" checked="true">Auto Process</label>
            <br><br>
            <div class="element">
                <select id="imageScaleMode">
                    <option>Scale To Fit</option>
                    <option>Stretch</option>
                    <option>None</option>
                </select>
                <input type="number" min="1" value="640" id="imageWidthInput">
                <input type="number" min="1" value="480" id="imageHeightInput">
                <select id="imageScalePresets">
                    <option></option>
                    <option>640x480</option>
                    <option>800x600</option>
                    <option>1024x720</option>
                </select>
            </div>
            <br>
            <img id="imageInput" hidden="true"/>
            <canvas id="imageInputCanvas"></canvas>
        </div>
        <div id="preQuantizeStage" class="element">
            <h3>Pre-Quantize</h3>
            <div id="preQuantizeStageList">
            </div>
            <div id="preQuantizePresetStageList" class="preset">
            </div>
            <select id="preQuantizeStageSelect"></select>
        </div>
        <div id="quantizeStage" class="element">
            <h3>Quantizer</h3>
            <label for="ditherMode">Dither</label>
            <select id="ditherMode">
                <option>None</option>
                <option>FloydSteinberg</option>
                <option>FalseFloydSteinberg</option>
                <option>Stucki</option>
                <option>Atkinson</option>
                <option>Jarvis</option>
                <option>Burkes</option>
                <option>Sierra</option>
                <option>TwoSierra</option>
                <option>SierraLite</option>
            </select>
            <br>
            <br>
            <div class="element">
                <select id="paletteMode">
                    <option>Automatic</option>
                    <option>Custom</option>
                    <option>Preset</option>
                </select>
                <input value="[]" disabled="true" id="paletteInput">
                <div id="autoPaletteDiv">
                    <label>#Colors <input id="nColors" type="number" value="16" min="2" max="256"></label>
                    <button id="calculateButton">Calculate</button>
                    <label><input type="checkbox" checked="true" id="autoCalculateCheckbox">Auto Calculate</label>
                </div>
            </div>
            <br>
            <canvas id="quantizeCanvas"></canvas>
        </div>
        <div id="postQuantizeStage" class="element">
            <h3>Post-Quantize</h3>
            <div id="postQuantizeStageList">
            </div>
            <div id="postQuantizePresetStageList" class="preset">
            </div>
            <select id="postQuantizeStageSelect"></select>
        </div>
        <div id="outputStage" class="element">
            <h3>Output</h3>
            <button id="saveOutputButton" disabled="true">Save</button>
        </div>
        <div id="previewStage" class="element">
            <h3>Preview</h3>
            <button id="savePreviewButton">Save</button>
            <canvas id="imagePreviewCanvas"></canvas>
        </div>
    </div>
</body>